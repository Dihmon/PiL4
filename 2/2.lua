N=8;function areallplacesok(a)for b=1,N do c=a[b]for d=1,b-1 do if a[d]-d==c-b or a[d]+d==c+b then return false end end end;return true end;function iscolumnok(a,b,c)for d=1,b-1 do if a[d]==c then return false end end;return true end;function printsolution(a)for d=1,N do for e=1,N do io.write(a[d]==e and"X"or"-"," ")end;io.write("\n")end;io.write("\n")end;function addqueen(a,b)if b>N then if areallplacesok(a)then printsolution(a)end else for c=1,N do if iscolumnok(a,b,c)then a[b]=c;addqueen(a,b+1)end end end end;addqueen({},1)
