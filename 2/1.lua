N=8;function isplaceok(a,b,c)for d=1,b-1 do if a[d]==c or a[d]-d==c-b or a[d]+d==c+b then return false end end;return true end;function printsolution(a)for d=1,N do for e=1,N do io.write(a[d]==e and"X"or"-"," ")end;io.write("\n")end;os.exit()end;function addqueen(a,b)if b>N then printsolution(a)else for c=1,N do if isplaceok(a,b,c)then a[b]=c;addqueen(a,b+1)end end end end;addqueen({},1)
